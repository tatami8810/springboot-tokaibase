<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <div th:replace="~{fragment :: meta}"></div>
    <div th:replace="~{fragment :: styles}"></div>
    <title>会員登録</title>
    <style>
        /* 画面全体の高さ確保 */
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            margin: 0;
        }

        main {
            flex: 1 0 auto;
        }

        /* コンテナの横幅と縦スクロール対応 */
        .TOKAIBASE-container {
            max-width: 100%;
            width: 100%;
            padding: 0 15px;
            box-sizing: border-box;
            max-height: 90vh; /* 画面の高さ90%以内 */
            overflow-y: auto; /* 縦スクロール */
        }

        /* 小さい画面用の余白調整 */
        @media (max-width: 576px) {
            .TOKAIBASE-container {
                padding: 15px 10px;
            }
        }
    </style>
</head>
<body>
<div class="TOKAIBASE-wrapper">
    <div th:replace="~{fragment :: header}"></div>

    <main>
        <div class="container py-5 TOKAIBASE-container">
            <div class="row justify-content-center">
                <div class="col-lg-10 col-xl-9">

                    <div class="bg-light p-5 rounded shadow-sm mb-4">
                        <h2 class="text-center text-primary fw-bold mb-4 border-bottom pb-2">会員登録</h2>

                        <form method="post" th:action="@{/signup}" th:object="${signupForm}" class="mt-4">

                            <!-- 氏名 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">氏名 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('name')}" class="text-danger small" th:errors="*{name}"></div>
                                    <input type="text" class="form-control" th:field="*{name}" placeholder="東海 太郎" autocomplete="name">
                                </div>
                            </div>

                            <!-- フリガナ -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">フリガナ <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('furigana')}" class="text-danger small" th:errors="*{furigana}"></div>
                                    <input type="text" class="form-control" th:field="*{furigana}" placeholder="トウカイ タロウ">
                                </div>
                            </div>

                            <!-- 生年月日 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">生年月日 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('birthday')}" class="text-danger small" th:errors="*{birthday}"></div>
                                    <input type="date" class="form-control" th:field="*{birthday}">
                                </div>
                            </div>

                            <!-- 性別 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">性別 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('sex')}" class="text-danger small" th:errors="*{sex}"></div>
                                    <select class="form-select" th:field="*{sex}">
                                        <option value="" hidden>選択してください</option>
                                        <option value="男">男</option>
                                        <option value="女">女</option>
                                        <option value="その他">その他</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 郵便番号 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">郵便番号 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('postalCode')}" class="text-danger small" th:errors="*{postalCode}"></div>
                                    <input type="text" class="form-control" th:field="*{postalCode}" placeholder="101-0022">
                                </div>
                            </div>

                            <!-- 住所 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">住所 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('address')}" class="text-danger small" th:errors="*{address}"></div>
                                    <input type="text" class="form-control" th:field="*{address}" placeholder="東京都千代田区神田練塀町300番地">
                                </div>
                            </div>

                            <!-- 電話番号 -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">電話番号 <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('phoneNumber')}" class="text-danger small" th:errors="*{phoneNumber}"></div>
                                    <input type="text" class="form-control" th:field="*{phoneNumber}" placeholder="090-1234-5678">
                                </div>
                            </div>

                            <!-- メールアドレス -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">メールアドレス <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('email')}" class="text-danger small" th:errors="*{email}"></div>
                                    <input type="email" class="form-control" th:field="*{email}" placeholder="taro.tokai@example.com">
                                </div>
                            </div>

                            <!-- パスワード -->
                            <div class="mb-3 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">パスワード <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('password')}" class="text-danger small" th:errors="*{password}"></div>
                                    <input type="password" class="form-control" th:field="*{password}" autocomplete="new-password">
                                </div>
                            </div>

                            <!-- パスワード確認 -->
                            <div class="mb-4 row">
                                <label class="col-12 col-sm-4 col-form-label fw-semibold">パスワード（確認用） <span class="badge bg-danger">必須</span></label>
                                <div class="col-12 col-sm-8">
                                    <div th:if="${#fields.hasErrors('passwordConfirmation')}" class="text-danger small" th:errors="*{passwordConfirmation}"></div>
                                    <input type="password" class="form-control" th:field="*{passwordConfirmation}" autocomplete="new-password">
                                </div>
                            </div>

                            <div class="d-grid mb-3">
                                <button type="submit" class="btn btn-primary fw-bold py-2">登録</button>
                            </div>

                        </form>

                        <div class="text-center">
                            <a th:href="@{/login}">ログインはこちら</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>

    <div th:replace="~{fragment :: footer}"></div>
</div>

<div th:replace="~{fragment :: scripts}"></div>
</body>
</html>
